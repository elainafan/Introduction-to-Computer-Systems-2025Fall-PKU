# 从零开始的Data Lab

> [!CAUTION]
> 
> **本笔记仅供参考，请勿抄袭。**

## 声明
本笔记的写作初衷在于，笔者在做Data Lab的时候受到Arthals学长很大启发，同时25Fall的计算机系统导论课程改制增加了10分的Lab测试（虽然往年的期中期末中也会有一两道Lab相关选择题，但分值不大）。故将心路历程写成此笔记，以便复习，并供后续选课同学参考。

## Data Lab简要介绍
Data Lab是《计算机系统导论》课程的第一个Lab，该课程使用流行的计算机基础教材《深入理解计算机系统》（又名CSAPP/~~没人理解计算机系统~~）。其Lab取材于美国卡耐基梅隆的同名课程，北京大学课程团队每年都会对Lab进行修改，导致每年的puzzle（下文会介绍）都不一样，这里仅给出思路的实现。

Data Lab对应的为教材第二章《信息的表示与处理》，主要考察对位运算的理解。在bits.c文件中，会给出16个对应的puzzle，其分值对应为1-4不等。每个puzzle会有操作符类型与操作符数量的限制，总分分为实现分与表现分，其中实现分即代码在对应操作符类型下能通过test即满分，若操作符数量超出限制即扣除一定比例表现分。在AutoLab上的提交次数最多不能超过16次。笔者的耗时大约在13-15小时左右。

这些puzzle包括：

位运算：

| Name                     | Description                                 | Rateing | Max ops |
| ------------------------ | ------------------------------------------- | ------- | ------- |
| bitOr (x,y)              | 仅使用～和 \& 来实现 x | y                   | 1       | 8       |
| upperBits (n)            | 将32位二进制的高n位设置为1                    | 1       | 10      |
| fullAdd (x, y)           | =将 x + y 对16取模                           | 2       | 30      |
| rotateLeft (x, n)        | 将 x 的二进制表示循环左移 n 位                | 3       | 25      |
| bitParity (x)            | 判断 x 的二进制表示中是否有奇数个1             | 4       | 20     |
| palindrome (x)           | 判断 x 的二进制表示是否回文                    | 4      | 40     |